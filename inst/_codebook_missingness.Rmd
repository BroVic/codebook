```{r setup,eval=TRUE,echo=FALSE}
if (exists("testing")) {
	indent = '#' # ugly hack so _regression_summary can be "spun" (variables included via `r ` have to be available)
	results = data.frame()
	survey_repetition = 'single'
	reliabilities = list()
}
```


`r indent`# Missingness report

Among those who finished the survey. Only patterns more common than 1% of the number of rows are shown.

```{r missingness_all_setup}
if (  exists("ended", results) &&
  exists("expired", results)) {
  finisher_results = dplyr::filter(results, !is.na(.data$ended))
} else {
  finisher_results = results
  warning("Could not figure out who finished the surveys, because the variables expired and ended were missing.")
}
missingness = formr::missingness_patterns(finisher_results, min_freq = ceiling(0.01*nrow(results)))
```
```{r missingness_all}
if (length(missingness) > 0) {
  pander::pander(missingness)
}
```

